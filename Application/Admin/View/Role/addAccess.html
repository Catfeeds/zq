<script>
	// function check($obj,$k){
	// 	var checked=$obj.checked;
	// 	if(checked){
	// 		$(".check"+$k).attr('checked',true);
	// 	}else{
	// 		$(".check"+$k).attr('checked',false);
	// 	}
	// 	home();
	// }

	// function checkChild($i){
	// 	var  checkedLength=$('.check'+$i+':checked').length;
	// 	if(checkedLength>0){
	// 		$("#check"+$i).attr('checked',true);
	// 	}else{
	// 		$("#check"+$i).attr('checked',false);
	// 	}
	// 	home();
	// }

	// function home(){
	// 	var home=$("#home").attr('checked');
	// 	var  homeCheckedLength=$('[name="node_id[]"]:checked').length;
	// 	if(homeCheckedLength>0){
	// 		$("#home").attr('checked',true);
	// 	}else{
	// 		$("#home").attr('checked',false);
	// 	}
	// }
</script>
<div class="page">
	<div class="pageContent">
<form method="post" action="__URL__/insertAccess" class="pageForm required-validate" onsubmit="return validateCallback(this, dialogAjaxDone)">
	<input type="hidden" name="role_id" value="{$Think.get.groupId}">

	<div style=" float:left; display:block; margin:10px; overflow:auto; width:560px; height:700px; overflow:auto; border:solid 1px #CCC; line-height:21px; background:#FFF;">
		<ul class="tree treeFolder treeCheck expand">
		<?php foreach ($group_class as $item) { ?>
			<li><a href="javascript:;">{$item.name}</a>
				<notempty name="item.group">
				    <?php foreach ($item['group'] as $item2) { ?>
					<ul>
						<li><a href="javascript:;">{$item2.title}</a>
							<notempty name="item2.node">
							    <?php foreach ($item2['node'] as $item3) { ?>
									<ul>
										<li><a class="checkboxCtrl" tname="node_name[]" tvalue="{$item3.id}" <in name="item3.id" value="$selectdNode">checked='true'</in>>{$item3.title}</a></li>
									</ul>
								<?php } ?>
		                    </notempty>
						</li>
					</ul>
				    <?php } ?>
				</notempty>
			</li>
		<?php } ?>
		</ul>
	</div>
	<script>
		$('.checkAll').click(function(){
			if($(this).is(':checked') == true){
				$('.ckbox').removeClass('unchecked').addClass('checked');
			}else{
				$('.ckbox').removeClass('checked indeterminate').addClass('unchecked');
			}
		})
	</script>
<!-- <volist name="node" id="node1">
	<h2 class="contentTitle">{$node1.title} <input type="checkbox" name="node_id[]" value="{$node1.id}_{$node1.level}_{$node1.pid}" <in name="node1.id"  value="$selectdNode[1]" >checked='checked'</in> class="checkboxCtrl" group="node_id[]" id="home" /></h2>
	<div class="pageFormContent lxzdl" layoutH="98">
		<volist name="node1._child" id="node2" key="k">
			<fieldset>
				<legend>{$node2.title} <input type="checkbox" name="node_id[]" value="{$node2.id}_{$node2.level}_{$node2.pid}" <in name="node2.id"  value="$selectdNode[2]">checked='checked'</in> onclick="check(this,{$k})" id="check{$k}"/></legend>
					<volist name="node2._child" id="node3">
						<label>{$node3.title} <input type="checkbox" name="node_id[]" value="{$node3.id}_{$node3.level}_{$node3.pid}" <in name="node3.id"  value="$selectdNode[3]">checked='checked'</in> class="check{$k}" onclick="checkChild({$k})"/></label>
					</volist>
			</fieldset>
		</volist>
</div>
</volist> -->
	<div class="formBar">
		<label style="float:left"><input type="checkbox" class="checkboxCtrl checkAll" group="node_name[]" />全选</label>
		<ul>
			<!-- <li><div class="button"><div class="buttonContent"><button type="button" class="checkboxCtrl" group="node_id[]" selectType="invert">反选</button></div></div></li> -->
			<li><div class="buttonActive"><div class="buttonContent"><button type="submit">提交</button></div></div></li>
		</ul>
	</div>
</form>
	
	</div>
</div>

