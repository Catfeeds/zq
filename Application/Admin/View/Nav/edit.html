<include file="Public:pagerForm" />
<div class="page">
    <div class="pageContent">

    <form  method="post" action="__URL__/save/navTabId/__DWZ__" class="pageForm required-validate" enctype="multipart/form-data" onsubmit="return iframeCallback(this,dialogAjaxDone);" target="callbackframe">
        <input type="hidden" value="{$vo['id']}" name="id" >
        <div class="pageFormContent" layoutH="58">
            <div class="unit">
                <label>导航名称：</label>
                <input type="text"  class="required"  minlength="1" maxlength="8"  name="name" value="{$vo['name']}">
            </div>
            <div class="unit">
                <label>导航分类：</label>
                <select name="type" class="required UploadsIcon">
                    <option value="" selected>请选择</option>
                    <option value="1" <if condition="$vo.type eq '1' or $_REQUEST.type eq '1'">selected</if> >App首页情报导航</option>
                    <option value="2" <if condition="$vo.type eq '2' or $_REQUEST.type eq '2'">selected</if> >App大咖广场导航</option>
                    <option value="3" <if condition="$vo.type eq '3' or $_REQUEST.type eq '3'">selected</if> >App世界杯底部导航</option>
                    <option value="4" <if condition="$vo.type eq '4' or $_REQUEST.type eq '4'">selected</if> >Web首页顶部导航1</option>
                    <option value="5" <if condition="$vo.type eq '5' or $_REQUEST.type eq '5'">selected</if> >Web首页足球专栏</option>
                    <option value="6" <if condition="$vo.type eq '6' or $_REQUEST.type eq '6'">selected</if> >Web首页蓝球专栏</option>
                    <option value="7" <if condition="$vo.type eq '7' or $_REQUEST.type eq '7'">selected</if> >Web首页综合体育</option>
                    <option value="8" <if condition="$vo.type eq '8' or $_REQUEST.type eq '8'">selected</if> >Web首页电竞专栏</option>
                    <option value="9" <if condition="$vo.type eq '9' or $_REQUEST.type eq '9'">selected</if> >Web英超专题导航</option>
                    <option value="10" <if condition="$vo.type eq '10' or $_REQUEST.type eq '10'">selected</if> >Web西甲专题导航</option>
                    <option value="11" <if condition="$vo.type eq '11' or $_REQUEST.type eq '11'">selected</if> >Web德甲专题导航</option>
                    <option value="12" <if condition="$vo.type eq '12' or $_REQUEST.type eq '12'">selected</if> >Web意甲专题导航</option>
                    <option value="13" <if condition="$vo.type eq '13' or $_REQUEST.type eq '13'">selected</if> >Web欧冠专题导航</option>
                    <option value="14" <if condition="$vo.type eq '14' or $_REQUEST.type eq '14'">selected</if> >Web亚冠专题导航</option>
                    <option value="15" <if condition="$vo.type eq '15' or $_REQUEST.type eq '15'">selected</if> >Web中超专题导航</option>
                    <option value="16" <if condition="$vo.type eq '16' or $_REQUEST.type eq '16'">selected</if> >Web专题NBA导航</option>
                    <option value="17" <if condition="$vo.type eq '17' or $_REQUEST.type eq '17'">selected</if> >Web专题CBA导航</option>
                    <option value="18" <if condition="$vo.type eq '18' or $_REQUEST.type eq '18'">selected</if> >Web专题斯诺克导航</option>
                    <option value="19" <if condition="$vo.type eq '19' or $_REQUEST.type eq '19'">selected</if> >Web专题英雄联盟导航</option>
                    <option value="20" <if condition="$vo.type eq '20' or $_REQUEST.type eq '20'">selected</if> >Web专题刀塔2导航</option>
                    <option value="21" <if condition="$vo.type eq '21' or $_REQUEST.type eq '21'">selected</if> >Web专题王者荣耀导航</option>
                    <option value="22" <if condition="$vo.type eq '22' or $_REQUEST.type eq '22'">selected</if> >Web专题绝地求生导航</option>
                    <option value="23" <if condition="$vo.type eq '23' or $_REQUEST.type eq '23'">selected</if> >Web专题棒球导航</option>
                    <option value="24" <if condition="$vo.type eq '24' or $_REQUEST.type eq '24'">selected</if> >Web专题网球导航</option>
                    <option value="25" <if condition="$vo.type eq '25' or $_REQUEST.type eq '25'">selected</if> >Web专题NFL导航</option>
                    <option value="26" <if condition="$vo.type eq '26' or $_REQUEST.type eq '26'">selected</if> >Web首页顶部导航2</option>
                    <option value="27" <if condition="$vo.type eq '27' or $_REQUEST.type eq '27'">selected</if> >Web首页顶部导航3</option>
                    <option value="28" <if condition="$vo.type eq '28' or $_REQUEST.type eq '28'">selected</if> >Web首页顶部导航4</option>
                    <option value="29" <if condition="$vo.type eq '29' or $_REQUEST.type eq '29'">selected</if> >Web首页顶部导航5</option>
                    <option value="30" <if condition="$vo.type eq '30' or $_REQUEST.type eq '30'">selected</if> >Web首页国内足球导航</option>
                    <option value="31" <if condition="$vo.type eq '31' or $_REQUEST.type eq '31'">selected</if> >Web专题乒乓球导航</option>
                    <option value="32" <if condition="$vo.type eq '32' or $_REQUEST.type eq '32'">selected</if> >Web专题排球导航</option>
                    <option value="33" <if condition="$vo.type eq '33' or $_REQUEST.type eq '33'">selected</if> >Web专题法甲导航</option>
                    <option value="34" <if condition="$vo.type eq '34' or $_REQUEST.type eq '34'">selected</if> >M站首页顶部导航</option>
                    <option value="35" <if condition="$vo.type eq '35' or $_REQUEST.type eq '35'">selected</if> >Web世界杯专题导航</option>
                    <option value="36" <if condition="$vo.type eq '36' or $_REQUEST.type eq '36'">selected</if> >M站首页足球专栏导航</option>
                    <option value="37" <if condition="$vo.type eq '37' or $_REQUEST.type eq '37'">selected</if> >M站首页篮球专栏导航</option>
                    <option value="38" <if condition="$vo.type eq '38' or $_REQUEST.type eq '38'">selected</if> >M站首页综合体育专栏导航</option>
                    <option value="39" <if condition="$vo.type eq '39' or $_REQUEST.type eq '39'">selected</if> >M站首页电竞专栏导航</option>
                    <option value="40" <if condition="$vo.type eq '40' or $_REQUEST.type eq '40'">selected</if> >Web专题资料库导航</option>
                    <option value="41" <if condition="$vo.type eq '41' or $_REQUEST.type eq '41'">selected</if> >Web五洲专题导航</option>
                    <option value="42" <if condition="$vo.type eq '42' or $_REQUEST.type eq '42'">selected</if> >Web杯赛预测导航</option>
                    <option value="43" <if condition="$vo.type eq '43' or $_REQUEST.type eq '43'">selected</if> >Web杯赛直通车列表</option>
                </select>
            </div>
            <if condition="$_REQUEST.type eq 1">
                <div class="unit">
                    <label>导航类型：</label>
                     <select name="ui_type" onchange="selectType(this)">
                        <option value="" >请选择导航类型</option>
                        <option <if condition="$vo.ui_type eq 'index'"> selected</if> value="index">首页</option>
                        <option <if condition="$vo.ui_type eq 'article'"> selected</if> value="article">图文资讯</option>
                        <option <if condition="$vo.ui_type eq 'pic'"> selected</if> value="pic">图片集</option>
                        <option <if condition="$vo.ui_type eq 'video'"> selected</if> value="video">视频</option>
                        <option <if condition="$vo.ui_type eq 'topic'"> selected</if> value="topic">专题</option>
                        <option <if condition="$vo.ui_type eq 'webview'"> selected</if> value="webview">外链</option>
                        <option <if condition="$vo.ui_type eq 'sportsdom'"> selected</if> value="sportsdom">体育圈</option>
                    </select>
                </div>
            </if>
            <if condition="$_REQUEST.type eq 34">
            <div class="unit">
                <label>标识：</label>
                <input type="text"  class="" name="sign" value="{$vo['sign']}">
            </div>
            </if>
            <if condition="$_REQUEST.type eq 3">
                <div class="unit">
                    <label>标识：</label>
                    <input type="text"  class="" name="sign" value="{$vo['sign']}">
                </div>
                <div class="unit">
                    <label>UI风格：</label>
                     <select name="ui_type" onchange="selectType(this)">
                        <option value="" >请选择UI风格</option>
                        <option <if condition="$vo.ui_type eq 'QCNIndexViewController'"> selected</if> value="QCNIndexViewController">首页</option>
                        <option <if condition="$vo.ui_type eq 'QCDataViewController'"> selected</if> value="QCDataViewController">比分</option>
                        <option <if condition="$vo.ui_type eq 'QCNewsViewController'"> selected</if> value="QCNewsViewController">资讯</option>
                        <option <if condition="$vo.ui_type eq 'QCNewsIndexViewController'"> selected</if> value="QCNewsIndexViewController">推荐王</option>
                        <option <if condition="$vo.ui_type eq 'QCPersonalCenterViewController'"> selected</if> value="QCPersonalCenterViewController">我的</option>
                        <option <if condition="$vo.ui_type eq 'QCLiveViewController'"> selected</if> value="QCLiveViewController">直播</option>
                        <option <if condition="$vo.ui_type eq 'QCBallKingController'"> selected</if> value="QCBallKingController">球王</option>
                        <option <if condition="$vo.ui_type eq 'QCSportsdomViewController'"> selected</if> value="QCSportsdomViewController">体育圈</option>
                        <option <if condition="$vo.ui_type eq 'QCBigDataHomeViewController'"> selected</if> value="QCBigDataHomeViewController">赢盘雷达</option>
                        <option <if condition="$vo.ui_type eq 'QCDatabaseViewController'"> selected</if> value="QCDatabaseViewController">资料库</option>
                        <option <if condition="$vo.ui_type eq 'QCBaseWebViewController'"> selected</if> value="QCBaseWebViewController">外链</option>
                    </select>
                </div>
                <div class="unit iconUploads">
                    <label>图标1：</label>
                    <ul class="tabImg">
                        <li>
                            <input id="viewUploadInput_1" name="fileInput1" type="file" onChange="previewImage(1)" style="display:none;" />

                            <a href="javascript:void(0);">
                                 <span id="viewUploadDiv_1">
                                    <empty name="vo.icon">
                                        <img src="__PUBLIC__/Home/images/common/add_gray.png" width="80" height="80" id="viewUploadImg_1"/>
                                    <else/>
                                        <img id="viewUploadImg_1" width='80' height='80' border=0 src="{$vo.icon}">
                                    </empty>
                                 </span>
                            </a>
                            <div id="poiter_1" class="poiter">
                                <empty name="vo.icon">
                                    <a title="添加图片" onclick="selectViewUploadImg('#viewUploadInput_1')">添加图片</a>
                                <else/>
                                    <a title="删除" onclick="delPic({$vo.id},1);">删除</a>|<a title="重传" onclick="selectViewUploadImg('#viewUploadInput_1')">重传</a>
                                </empty>
                            </div>
                        </li>
                        <span style="color:red;">上传图标</span>
                    </ul>
                </div>
                <div class="unit iconUploads">
                    <label>图标2：</label>
                    <ul class="tabImg">
                        <li>
                            <input id="viewUploadInput_2" name="fileInput2" type="file" onChange="previewImage(2)" style="display:none;" />
                            <a href="javascript:void(0);">
                                 <span id="viewUploadDiv_2">
                                    <empty name="vo.icon2">
                                        <img src="__PUBLIC__/Home/images/common/add_gray.png" width="80" height="80" id="viewUploadImg_2"/>
                                        <else/>
                                        <img id="viewUploadImg_2" width='80' height='80' border=0 src="{$vo.icon2}">
                                    </empty>
                                 </span>
                            </a>
                            <div id="poiter_2" class="poiter">
                                <empty name="vo.icon">
                                    <a title="添加图片" onclick="selectViewUploadImg('#viewUploadInput_2')">添加图片</a>
                                    <else/>
                                    <a title="删除" onclick="delPic({$vo.id},2);">删除</a>|<a title="重传" onclick="selectViewUploadImg('#viewUploadInput_2')">重传</a>
                                </empty>
                            </div>
                        </li>
                        <span style="color:red;">上传图标</span>
                    </ul>
                    <span class="inputInfo"></span>
                </div>
            </if>


            <if condition="$_REQUEST.type eq 43">
                <div class="unit">
                    <label>分组：</label>
                    <input type="text"  class="" name="sign" value="{$vo['sign']}">
                </div>
                <div class="unit iconUploads">
                    <label>图标：</label>
                    <ul class="tabImg">
                        <li>
                            <input id="viewUploadInput_1" name="fileInput1" type="file" onChange="previewImage(1)" style="display:none;" />

                            <a href="javascript:void(0);">
                                 <span id="viewUploadDiv_1">
                                    <empty name="vo.icon">
                                        <img src="__PUBLIC__/Home/images/common/add_gray.png" width="80" height="80" id="viewUploadImg_1"/>
                                    <else/>
                                        <img id="viewUploadImg_1" width='80' height='80' border=0 src="{$vo.icon}">
                                    </empty>
                                 </span>
                            </a>
                            <div id="poiter_1" class="poiter">
                                <empty name="vo.icon">
                                    <a title="添加图片" onclick="selectViewUploadImg('#viewUploadInput_1')">添加图片</a>
                                    <else/>
                                    <a title="删除" onclick="delPic({$vo.id},1);">删除</a>|<a title="重传" onclick="selectViewUploadImg('#viewUploadInput_1')">重传</a>
                                </empty>
                            </div>
                        </li>
                        <span style="color:red;">上传图标</span>
                    </ul>
                </div>
                <div class="unit iconUploads">
                    <label>直通车页面背景图：</label>
                    <ul class="tabImg">
                        <li>
                            <input id="viewUploadInput_2" name="fileInput2" type="file" onChange="previewImage(2)" style="display:none;" />
                            <a href="javascript:void(0);">
                                 <span id="viewUploadDiv_2">
                                    <empty name="vo.icon2">
                                        <img src="__PUBLIC__/Home/images/common/add_gray.png" width="80" height="80" id="viewUploadImg_2"/>
                                        <else/>
                                        <img id="viewUploadImg_2" width='80' height='80' border=0 src="{$vo.icon2}">
                                    </empty>
                                 </span>
                            </a>
                            <div id="poiter_2" class="poiter">
                                <empty name="vo.icon">
                                    <a title="添加图片" onclick="selectViewUploadImg('#viewUploadInput_2')">添加图片</a>
                                    <else/>
                                    <a title="删除" onclick="delPic({$vo.id},2);">删除</a>|<a title="重传" onclick="selectViewUploadImg('#viewUploadInput_2')">重传</a>
                                </empty>
                            </div>
                        </li>
                        <span style="color:red;">上传图标</span>
                    </ul>
                    <span class="inputInfo"></span>
                </div>
            </if>


            <if condition="$_REQUEST.type eq 36 or $_REQUEST.type eq 37 or $_REQUEST.type eq 38 or $_REQUEST.type eq 39">
                <div class="unit">
                    <label>标识：</label>
                    <input type="text"  class="" name="sign" value="{$vo['sign']}">
                </div>
                <div class="unit iconUploads">
                    <label>图标：</label>
                    <ul class="tabImg">
                        <li>
                            <input id="viewUploadInput_1" name="fileInput1" type="file" onChange="previewImage(1)" style="display:none;" />

                            <a href="javascript:void(0);">
                                 <span id="viewUploadDiv_1">
                                    <empty name="vo.icon">
                                        <img src="__PUBLIC__/Home/images/common/add_gray.png" width="80" height="80" id="viewUploadImg_1"/>
                                    <else/>
                                        <img id="viewUploadImg_1" width='80' height='80' border=0 src="{$vo.icon}">
                                    </empty>
                                 </span>
                            </a>
                            <div id="poiter_1" class="poiter">
                                <empty name="vo.icon">
                                    <a title="添加图片" onclick="selectViewUploadImg('#viewUploadInput_1')">添加图片</a>
                                    <else/>
                                    <a title="删除" onclick="delPic({$vo.id},1);">删除</a>|<a title="重传" onclick="selectViewUploadImg('#viewUploadInput_1')">重传</a>
                                </empty>
                            </div>
                        </li>
                        <span style="color:red;">上传图标</span>
                    </ul>
                </div>
            </if>

            <div class="unit">
                <label>状态：</label>
                 <select name="status" >
                    <option <eq name="vo.status" value="1" >selected</eq> value="1">启用</option>
                    <option <eq name="vo.status" value="0" >selected</eq> value="0">禁用</option>
                </select>
            </div>
            <div class="unit">
                <label>&nbsp;</label>
                <span class="info" style="color: red">&nbsp;&nbsp;&nbsp;外链请填写链接。为资讯时填资讯分类，以逗号分隔,如（1,2,3）</span>
            </div>
            <div class="unit">
                <label>链接（对应值）：</label>
                <input type="text"  class="" name="ui_type_value" value="{$vo['ui_type_value']}" size="60">
            </div>
            <div class="unit">
                <label>排序：</label>
                <input type="text"  class="digits" name="sort" value="{$vo['sort']}">
            </div>
            <div class="unit">
                <label>&nbsp;</label>
                <span class="info" style="color: red">过滤名，例pkg,version,platform，多个值英文逗号隔开，表示根据包名，版本，平台号判断是否过滤</span>
            </div>
            <div class="unit">
                <label>过滤名：</label>
                <input type="text"  name="filter_name" value="{$vo['filter_name']}" size="60">
            </div>
            <div class="unit">
                <label>&nbsp;</label>
                <span class="info" style="color: red">对应过滤名用竖杠分组，每组的多个值用逗号分开，例：pkg1,pkg2|api510,api511|1,3</span>
            </div>
            <div class="unit">
                <label>过滤值：</label>
                <textarea name="filter_value"  cols="60" rows="6">{$vo.filter_value}</textarea>
            </div>
        </div>
        <div class="formBar">
            <ul>
                <li><div class="buttonActive"><div class="buttonContent"><button type="submit">保存</button></div></div></li>
                <li><div class="button"><div class="buttonContent"><button type="button" class="close">取消</button></div></div></li>
            </ul>
        </div>
    </form>

    </div>
</div>

<style type="text/css">
    .tabImg li{float: left;margin-right: 15px;position: relative;border:1px solid #f2f2f2;width:80px;height: 80px;overflow: hidden;cursor: pointer;}
    .poiter a:hover{color:red;}
    .tabImg li div{ position: absolute; left: 0; top:80px; width: 80px;  height: 80px; line-height: 80px; text-align: center; color: #fff; background: rgba(44, 170, 236, 1);font-size:12px;}
    .tabImg li div a{ line-height: 80px;}
</style>
<!--引入本页js-->
<script type="text/javascript" src="__PUBLIC__/Plugs/viewUploadImg.js"></script>
<script>
    $(function(){
        $('.tabImg li').hover(function(e) {
            $(this).children('div').stop().animate({'top':'0'},300);
        },function(){
            $(this).children('div').stop().animate({'top':'80px'},300);
        });
    });

    function delPic(id,num){
        if(confirm("确认要删除吗？") == false){
            return false;
        }
        //异步执行删除
        $.ajax({
            type: "POST",
            url: "__ADMIN__/Nav/delPic.html",
            data: {'id':id,'num':num},
            dataType: "json",
            success: function(data){
                if(data.status){
                    $("#viewUploadInput_"+num).val("");
                    $("#viewUploadImg_"+num).attr("src","__PUBLIC__/Home/images/common/add_gray.png").attr("style","width:80px;height:80px");
                    var str = "<a title='添加图片' onclick='selectViewUploadImg('#viewUploadInput_'"+num+")'>添加图片</a>";
                    $("#poiter_"+num).html(str);
                    alert("删除成功！");
                }else{
                    alert("删除失败！");
                }
            }
        });
    }

    //APP世界杯底部导航时需上传icon图标
    $('.UploadsIcon').on('change',function (){
        var type = $(this).val();
        if(type == 3){
            $('.iconUploads').show();
        }else{
            $('.iconUploads').hide();
        }
    })
</script>
